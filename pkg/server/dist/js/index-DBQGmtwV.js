var se=Object.defineProperty,le=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var L=(i,o,t)=>o in i?se(i,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[o]=t,O=(i,o)=>{for(var t in o||(o={}))R.call(o,t)&&L(i,t,o[t]);if(x)for(var t of x(o))q.call(o,t)&&L(i,t,o[t]);return i},H=(i,o)=>le(i,ne(o));var _=(i,o)=>{var t={};for(var n in i)R.call(i,n)&&o.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&x)for(var n of x(i))o.indexOf(n)<0&&q.call(i,n)&&(t[n]=i[n]);return t};var P=(i,o,t)=>new Promise((n,u)=>{var g=r=>{try{f(t.next(r))}catch(e){u(e)}},p=r=>{try{f(t.throw(r))}catch(e){u(e)}},f=r=>r.done?n(r.value):Promise.resolve(r.value).then(g,p);f((t=t.apply(i,o)).next())});import{aR as re,a$ as J,ce as de,cf as ce,cg as G,ch as pe,B as C,bK as D,ci as fe,cj as ue,ck as ge,cl as me}from"./bootstrap-B4JiwaAL.js";import{u as F,v as V}from"./vxe-table-Db-J8MfO.js";import{b as ye,c as he}from"./data-BLbCZo9I.js";import{_ as Ce}from"./formData.vue_vue_type_script_setup_true_lang-DYVqJtv_.js";import{_ as be}from"./formType.vue_vue_type_script_setup_true_lang-BMf0PuKt.js";import{_ as T}from"./page.vue_vue_type_script_setup_true_lang-DqBww8k9.js";import{a4 as S,J as B,aa as v,ab as k,a7 as s,ad as K,aW as Q,ac as l,av as ke,aq as U,x as d,a8 as w,as as ve,P as X,af as $,ag as M,b5 as ze,aC as xe,aw as _e,aB as E,ai as b}from"../jse/index-index-DnPbrghU.js";import{u as N}from"./use-modal-CbDtZeLz.js";import{P as I}from"./plus-B2crc5Qf.js";import"./use-vben-form-DL6PmbJh.js";import"./checkbox.vue_vue_type_script_setup_true_lang-DGZn6EUK.js";import"./render-content.vue_vue_type_script_lang-BMPLX8pd.js";import"./form-BUp9oLlJ.js";import"./css-Dmgy8YJo.js";import"./useMergedState-vURbmIkp.js";import"./EyeOutlined-BnKiYVEu.js";const De=re("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),we={key:0,class:"bg-border z-10 flex h-4 w-3 items-center justify-center rounded-sm border"},Be=S({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(i,{emit:o}){const t=i,n=o,u=B(()=>{const r=t,{class:p}=r;return _(r,["class"])}),g=J(u,n);return(p,f)=>(k(),v(s(de),K(s(g),{class:s(Q)("bg-border focus-visible:ring-ring relative flex w-px items-center justify-center after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-offset-1 [&[data-orientation=vertical]>div]:rotate-90 [&[data-orientation=vertical]]:h-px [&[data-orientation=vertical]]:w-full [&[data-orientation=vertical]]:after:left-0 [&[data-orientation=vertical]]:after:h-1 [&[data-orientation=vertical]]:after:w-full [&[data-orientation=vertical]]:after:-translate-y-1/2 [&[data-orientation=vertical]]:after:translate-x-0",t.class)}),{default:l(()=>[t.withHandle?(k(),ke("div",we,[d(s(De),{class:"h-2.5 w-2.5"})])):U("",!0)]),_:1},16,["class"]))}}),Se=S({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(i,{emit:o}){const t=i,n=o,u=B(()=>{const r=t,{class:p}=r;return _(r,["class"])}),g=J(u,n);return(p,f)=>(k(),v(s(ce),K(s(g),{class:s(Q)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t.class)}),{default:l(()=>[w(p.$slots,"default")]),_:3},16,["class"]))}}),We=S({name:"ColPage",inheritAttrs:!1,__name:"col-page",props:{leftWidth:{default:30},leftMinWidth:{},leftMaxWidth:{},leftCollapsedWidth:{},leftCollapsible:{type:Boolean},rightWidth:{default:70},rightMinWidth:{},rightCollapsedWidth:{},rightMaxWidth:{},rightCollapsible:{type:Boolean},resizable:{type:Boolean,default:!0},splitLine:{type:Boolean},splitHandle:{type:Boolean},title:{},description:{},contentClass:{},autoContentHeight:{type:Boolean},headerClass:{},footerClass:{},heightOffset:{}},setup(i,{expose:o}){const t=i,n=B(()=>{const m=t,{leftWidth:e}=m;return _(m,["leftWidth"])}),u=ve(),g=B(()=>{const e=[];for(const y of Object.keys(u))["default","left"].includes(y)||e.push(y);return e}),p=X();function f(){var e;(e=p.value)==null||e.expand()}function r(){var e;(e=p.value)==null||e.collapse()}return o({expandLeft:f,collapseLeft:r}),(e,y)=>(k(),v(T,$(M(n.value)),ze({default:l(()=>[d(s(Se),{class:"w-full",direction:"horizontal"},{default:l(()=>[d(s(G),{ref_key:"leftPanelRef",ref:p,"collapsed-size":e.leftCollapsedWidth,collapsible:e.leftCollapsible,"default-size":e.leftWidth,"max-size":e.leftMaxWidth,"min-size":e.leftMinWidth},{default:l(m=>[w(e.$slots,"left",$(M(H(O({},m),{expand:f,collapse:r}))))]),_:3},8,["collapsed-size","collapsible","default-size","max-size","min-size"]),e.resizable?(k(),v(s(Be),{key:0,style:_e({backgroundColor:e.splitLine?void 0:"transparent"}),"with-handle":e.splitHandle},null,8,["style","with-handle"])):U("",!0),d(s(G),{"collapsed-size":e.rightCollapsedWidth,collapsible:e.rightCollapsible,"default-size":e.rightWidth,"max-size":e.rightMaxWidth,"min-size":e.rightMinWidth},{default:l(()=>[w(e.$slots,"default")]),_:3},8,["collapsed-size","collapsible","default-size","max-size","min-size"])]),_:3})]),_:2},[xe(g.value,m=>({name:m,fn:l(z=>[w(e.$slots,m,$(M(z)))])}))]),1040))}}),Ke=S({__name:"index",setup(i){const o=X(),t=pe();console.log(t.getDictList("sys_gender"));const[n,u]=N({connectedComponent:be,destroyOnClose:!0}),[g,p]=N({connectedComponent:Ce,destroyOnClose:!0}),f={columns:ye(),height:"auto",keepSource:!0,proxyConfig:{ajax:{query:a=>P(null,[a],function*({page:c}){try{return yield ge({page:c.currentPage,pageSize:c.pageSize})}catch(h){return{items:[],total:0}}})}},rowConfig:{keyField:"id"},toolbarConfig:{custom:!1,export:!1,refresh:{code:"query"},zoom:!1}},r={columns:he(),height:"auto",keepSource:!0,proxyConfig:{ajax:{query:(h,W)=>P(null,[h,W],function*({page:c},a){try{return yield me({page:c.currentPage,pageSize:c.pageSize,pid:(a==null?void 0:a.pid)||o.value})}catch(Pe){return{items:[],total:0}}})}},rowConfig:{keyField:"id"},toolbarConfig:{custom:!1,export:!1,refresh:{code:"query"},zoom:!1}},e={cellClick:({row:c})=>{o.value=c.id,A.query({pid:c.id})}},[y,m]=F({gridEvents:e,gridOptions:f});function z(){m.query()}function Y(){u.setData({}).open()}function Z(c){u.setData(c).open()}function ee(c){V({beforeClose({isConfirm:a}){if(a)return fe(c.id)},content:"是否确认删除？",icon:"error"}).then(()=>{D.success("删除成功"),z()}).catch(a=>{a.message!=="dialog cancelled"&&D.error(a)})}const[te,A]=F({gridOptions:r});function j(){A.query()}function ae(){p.setData({pid:o.value}).open()}function oe(c){p.setData(c).open()}function ie(c){V({beforeClose({isConfirm:a}){if(a)return ue(c.id)},content:"是否确认删除？",icon:"error"}).then(()=>{D.success("删除成功"),j()}).catch(a=>{a.message!=="dialog cancelled"&&D.error(a)})}return(c,a)=>(k(),v(s(We),{"left-width":50,"right-width":50},{left:l(()=>[d(s(T),{"auto-content-height":""},{default:l(()=>[d(s(y),{"table-title":"类型列表"},{"toolbar-tools":l(()=>[d(s(C),{type:"primary",onClick:Y},{default:l(()=>[d(s(I),{class:"size-5"}),a[0]||(a[0]=b(" 创建 "))]),_:1})]),action:l(({row:h})=>[d(s(C),{type:"link",onClick:W=>Z(h)},{default:l(()=>a[1]||(a[1]=[b("修改")])),_:2},1032,["onClick"]),a[3]||(a[3]=E("span",null,"|",-1)),d(s(C),{danger:"",type:"link",onClick:W=>ee(h)},{default:l(()=>a[2]||(a[2]=[b("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1})]),default:l(()=>[d(s(n),{onSuccess:z}),d(s(g),{onSuccess:j}),d(s(T),{"auto-content-height":""},{default:l(()=>[d(s(te),{"table-title":"数据列表"},{"toolbar-tools":l(()=>[d(s(C),{type:"primary",onClick:ae},{default:l(()=>[d(s(I),{class:"size-5"}),a[4]||(a[4]=b(" 创建 "))]),_:1})]),action:l(({row:h})=>[d(s(C),{type:"link",onClick:W=>oe(h)},{default:l(()=>a[5]||(a[5]=[b("修改")])),_:2},1032,["onClick"]),a[7]||(a[7]=E("span",null,"|",-1)),d(s(C),{danger:"",type:"link",onClick:W=>ie(h)},{default:l(()=>a[6]||(a[6]=[b("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1})]),_:1}))}});export{Ke as default};
